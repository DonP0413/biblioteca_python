{% extends "base.html" %}

{% block content %}
    <h3>Actualizar Progreso</h3>
    <p>Estás actualizando: <strong>{{ libro.titulo }}</strong></p>
    
    <form method="POST">
        
        <div class="form-group">
            <label for="pagina_actual">¿En qué página vas?</label>
            <input type="number" 
                   id="pagina_actual" 
                   name="pagina_actual" 
                   class="form-control" 
                   value="{{ libro.pagina_actual }}"
                   min="0"
                   max="{{ libro.paginas_totales }}">
        </div>

        <hr style="border: 0; border-top: 1px solid var(--color-fondo); margin: 30px 0;">
        
        <h4>Editar Detalles del Libro</h4>

        <div class="form-group">
            <label for="ano_publicacion">Año de Publicación:</label>
            <input type="number" 
                   id="ano_publicacion" 
                   name="ano_publicacion" 
                   class="form-control" 
                   value="{{ libro.ano_publicacion or '' }}"
                   min="0"
                   max="2100">
        </div>

        <div class="form-group" style="margin-top: 15px;">
            <label for="genero_id">Género:</label>
            <select name="genero_id" id="genero_id" class="form-control">
                <option value="">-- Sin Género --</option>
                {% for genero in generos %}
                <option value="{{ genero.id }}" {% if libro.genero_id == genero.id %}selected{% endif %}>
                    {{ genero.nombre }}
                </option>
                {% endfor %}
            </select>
        </div>
        
        <button type="submit" class="btn btn-primario" style="margin-top: 20px;">Guardar Progreso</button>
        <a href="{{ url_for('biblioteca') }}" style="margin-left: 10px; color: #555;">Cancelar</a>
    </form>
{% endblock %}